diff --git a/include/esp32s3/rom/ets_sys.h b/include/esp32s3/rom/ets_sys.h
index edf9627c68f11db9ef8ded928da6adc3f139df2c..3f736595bf99e3e5efe910f578a483312c2aa0e1 100644
--- a/include/esp32s3/rom/ets_sys.h
+++ b/include/esp32s3/rom/ets_sys.h
@@ -638,8 +638,7 @@ void intr_matrix_set(int cpu_no, uint32_t model_num, uint32_t intr_num);
 #define ETS_MEM_BAR() asm volatile ( "" : : : "memory" )
 
 typedef enum {
-    OK = 0,
-    FAIL,
+    FAIL = 1,
     PENDING,
     BUSY,
     CANCEL,
diff --git a/include/esp_event.h b/include/esp_event.h
index 47e21ca9663f0fc48a3e1ad60dcafaa9091ecb58..c1d120003fe091f5e28cfe5826544a8a069d9cab 100644
--- a/include/esp_event.h
+++ b/include/esp_event.h
@@ -9,11 +9,6 @@
 
 #include "esp_err.h"
 
-#include "freertos/FreeRTOS.h"
-#include "freertos/task.h"
-#include "freertos/queue.h"
-#include "freertos/semphr.h"
-
 #include "esp_event_base.h"
 
 #ifdef __cplusplus
@@ -369,7 +364,7 @@ esp_err_t esp_event_handler_instance_unregister(esp_event_base_t event_base,
  */
 esp_err_t esp_event_post(esp_event_base_t event_base,
                          int32_t event_id,
-                         const void *event_data,
+                         void *event_data,
                          size_t event_data_size,
                          TickType_t ticks_to_wait);
 
diff --git a/include/esp_private/esp_wifi_private.h b/include/esp_private/esp_wifi_private.h
index 1b95905a061ba8c0960207859673f0ae3a8aeb6c..fa8fb16312e13eaaf007aaddcba2338a154eaba7 100644
--- a/include/esp_private/esp_wifi_private.h
+++ b/include/esp_private/esp_wifi_private.h
@@ -6,8 +6,6 @@
 #ifndef _ESP_WIFI_PRIVATE_H
 #define _ESP_WIFI_PRIVATE_H
 
-#include "freertos/FreeRTOS.h"
-#include "freertos/queue.h"
 #include "sys/queue.h"
 #include "sdkconfig.h"
 #include "esp_wifi_crypto_types.h"
diff --git a/include/esp_private/wifi.h b/include/esp_private/wifi.h
index b3f7342a0cf2c411ec63c0b7b35b918e7ad2c461..b3c0c93b38e9987f5020e919ddbb3d4529ed4d9c 100644
--- a/include/esp_private/wifi.h
+++ b/include/esp_private/wifi.h
@@ -21,8 +21,6 @@
 
 #include <stdint.h>
 #include <stdbool.h>
-#include "freertos/FreeRTOS.h"
-#include "freertos/queue.h"
 #include "sys/queue.h"
 #include "esp_err.h"
 #include "esp_wifi_types.h"
diff --git a/include/esp_system.h b/include/esp_system.h
index fea13af97dd865ec6afb446f304622fa1d72f063..a2fae021e774ff0eb43e64c14be1d3d0e1ef589e 100644
--- a/include/esp_system.h
+++ b/include/esp_system.h
@@ -10,7 +10,6 @@
 #include <stdint.h>
 #include <stdbool.h>
 #include "esp_err.h"
-#include "esp_attr.h"
 #include "esp_bit_defs.h"
 #include "esp_idf_version.h"
 
diff --git a/include/esp_wifi.h b/include/esp_wifi.h
index f065bc50e938678c281a14314a098a02aa2c8c53..33b02634e2fe8fa43e0bc5cad6379dcb3763abff 100644
--- a/include/esp_wifi.h
+++ b/include/esp_wifi.h
@@ -55,7 +55,6 @@
 #include "esp_wifi_types.h"
 #include "esp_event.h"
 #include "esp_private/esp_wifi_private.h"
-#include "esp_wifi_default.h"
 
 #ifdef __cplusplus
 extern "C" {
diff --git a/include/esp_wifi_default.h b/include/esp_wifi_default.h
index 79a176bfc0289e98bad654e43946b7ccfe6645a8..4ce7f8b28efc210932f6aca5a795778abead76c2 100644
--- a/include/esp_wifi_default.h
+++ b/include/esp_wifi_default.h
@@ -1,14 +1,20 @@
-/*
- * SPDX-FileCopyrightText: 2019-2022 Espressif Systems (Shanghai) CO LTD
- *
- * SPDX-License-Identifier: Apache-2.0
- */
+// Copyright 2019 Espressif Systems (Shanghai) PTE LTD
+//
+// Licensed under the Apache License, Version 2.0 (the "License");
+// you may not use this file except in compliance with the License.
+// You may obtain a copy of the License at
+
+//     http://www.apache.org/licenses/LICENSE-2.0
+//
+// Unless required by applicable law or agreed to in writing, software
+// distributed under the License is distributed on an "AS IS" BASIS,
+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+// See the License for the specific language governing permissions and
+// limitations under the License.
 
 #ifndef _ESP_WIFI_DEFAULT_H
 #define _ESP_WIFI_DEFAULT_H
 
-#include "esp_netif.h"
-
 #ifdef __cplusplus
 extern "C" {
 #endif
@@ -44,7 +50,7 @@ esp_err_t esp_netif_attach_wifi_ap(esp_netif_t *esp_netif);
 esp_err_t esp_wifi_set_default_wifi_sta_handlers(void);
 
 /**
- * @brief Sets default wifi event handlers for AP interface
+ * @brief Sets default wifi event handlers for STA interface
  *
  * @return
  *  - ESP_OK on success, error returned from esp_event_handler_register if failed
@@ -64,9 +70,6 @@ esp_err_t esp_wifi_clear_default_wifi_driver_and_handlers(void *esp_netif);
 /**
  * @brief Creates default WIFI AP. In case of any init error this API aborts.
  *
- * @note The API creates esp_netif object with default WiFi access point config,
- * attaches the netif to wifi and registers default wifi handlers.
- *
  * @return pointer to esp-netif instance
  */
 esp_netif_t* esp_netif_create_default_wifi_ap(void);
@@ -74,23 +77,10 @@ esp_netif_t* esp_netif_create_default_wifi_ap(void);
 /**
  * @brief Creates default WIFI STA. In case of any init error this API aborts.
  *
- * @note The API creates esp_netif object with default WiFi station config,
- * attaches the netif to wifi and registers default wifi handlers.
- *
  * @return pointer to esp-netif instance
  */
 esp_netif_t* esp_netif_create_default_wifi_sta(void);
 
-/**
- * @brief Destroys default WIFI netif created with esp_netif_create_default_wifi_...() API.
- *
- * @param[in] esp_netif object to detach from WiFi and destroy
- *
- * @note This API unregisters wifi handlers and detaches the created object from the wifi.
- * (this function is a no-operation if esp_netif is NULL)
- */
-void esp_netif_destroy_default_wifi(void *esp_netif);
-
 /**
  * @brief Creates esp_netif WiFi object based on the custom configuration.
  *
diff --git a/include/espidf_wifi.h b/include/espidf_wifi.h
index c9d334632f36692bedf32d0aa2750585e1816901..ce599d87e896f12ff4c02e6ea10880bef61970d9 100644
--- a/include/espidf_wifi.h
+++ b/include/espidf_wifi.h
@@ -23,6 +23,7 @@
 #include "esp_private/wifi.h"
 #include "phy.h"
 #include "phy_init_data.h"
+#include "nvs.h"
 
 #include "esp_timer.h"
 #include "esp_system.h"
diff --git a/include/nvs.h b/include/nvs.h
index 966c16de69e08836be16f8e2dc487b93d597398f..ab99ee3f2c40f8f31f90dce05c5dd952acc04cc8 100644
--- a/include/nvs.h
+++ b/include/nvs.h
@@ -9,7 +9,6 @@
 #include <stdint.h>
 #include <stddef.h>
 #include <stdbool.h>
-#include "esp_attr.h"
 #include "esp_err.h"
 
 #ifdef __cplusplus
