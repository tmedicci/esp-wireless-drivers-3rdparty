diff --git a/library/md.c b/library/md.c
index 852fb6b10fd58e9d8eb4b713ee00aaa6bfe6126e..5d4bad49816d170988639f756c6cc82f78c96892 100644
--- a/library/md.c
+++ b/library/md.c
@@ -361,7 +361,7 @@ int esp_mbedtls_md_clone( mbedtls_md_context_t *dst,
         ctx->md_ctx = esp_mbedtls_calloc( 1, sizeof( mbedtls_##type##_context ) ); \
         if( ctx->md_ctx == NULL )                                       \
             return( MBEDTLS_ERR_MD_ALLOC_FAILED );                      \
-        mbedtls_##type##_init( ctx->md_ctx );                           \
+        esp_mbedtls_##type##_init( ctx->md_ctx );                           \
     }                                                                   \
     while( 0 )
 
